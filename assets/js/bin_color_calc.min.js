$(document).ready(function(){function a(){for(id in i)i[id]&&($("#"+id).css("opacity","1"),$("#"+id+" .cls-area").css({fill:i[id].color,opacity:"0.7"}))}function l(a){let l=$(".js-bin_calc-panel__list");for(let c=0;c<a.areas.length;c++)i[a.areas[c].svg_id]={},$("<li></li>").addClass("bin_calc-panel__list-item").attr({"data-svg":a.areas[c].svg_id,"data-color":a.areas[c].color_type}).text(a.areas[c].name).appendTo(l)}function c(a){let l=["colors","roofs","windows","under_roofs","seal"];for(let c=0;c<l.length;c++){const i=l[c];let e=$(".js-bin_calc-panel__colors[data-type='"+i+"']"),t=a[i];for(let a=0;a<t.length;a++){let l=$("<li></li>").addClass("bin_calc-panel__colors-item").attr({"data-rgb":t[a].rgb,"data-color_id":i+a,title:t[a].color});t[a].image&&$("<img />").attr("src",t[a].image).appendTo(l),t[a].opacity&&l.attr("data-opacity",t[a].opacity),l.appendTo(e)}}}var i={};$(document).on("click",".bin_calc-panel__list-item",function(a){let l=$(this).data("color"),c=$(this).data("svg");$(this).addClass("bin_calc-panel__list-item--active").siblings().removeClass("bin_calc-panel__list-item--active"),$(".js-bin_calc-panel__colors[data-type='"+l+"']").addClass("bin_calc-panel__colors--active").siblings().removeClass("bin_calc-panel__colors--active"),$(".js-bin_calc-panel__colors[data-type='"+l+"'] .bin_calc-panel__colors-item").removeClass("bin_calc-panel__colors-item--active"),i[c].color&&$(".js-bin_calc-panel__colors[data-type='"+l+"'] .bin_calc-panel__colors-item[data-color_id='"+i[c].color_id+"']").addClass("bin_calc-panel__colors-item--active")}),$(document).on("click",".bin_calc-panel__colors-item",function(l){let c=$(".bin_calc-panel__list-item--active").data("svg");$(this).hasClass("bin_calc-panel__colors-item--active")?(i[c].color="none",i[c].color_id="",$(this).removeClass("bin_calc-panel__colors-item--active"),$(".bin_calc-panel__list-item.bin_calc-panel__list-item--active").removeClass("bin_calc-panel__list-item--selected")):(i[c].color=$(this).data("rgb"),i[c].color_id=$(this).data("color_id"),$(this).addClass("bin_calc-panel__colors-item--active").siblings().removeClass("bin_calc-panel__colors-item--active"),$(".bin_calc-panel__list-item.bin_calc-panel__list-item--active").addClass("bin_calc-panel__list-item--selected")),a()}),$.getJSON("/assets/js/bin_calc_colors.json",function(a){l(a),c(a)})});